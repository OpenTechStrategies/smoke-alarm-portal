extends layout

block content
  #container.container-fluid
    #top
      #logo.text-center
        img.logo(src='./smokeAlarmPortal_files/redcross-logo-white-letters.png', alt='American Red Cross')
      #safety-message.row.text-center(role='complementary')
        p.col-xs-12.bigger-centered
          | Smoke alarms save lives.  Installing a smoke alarm is&nbsp;the&nbsp;first&nbsp;step&nbsp;to keeping&nbsp;your&nbsp;family&nbsp;safe.
    #main.row(role='main')
      #left.col-md-3
        p
          | Thank you for your interest in having FREE smoke alarms installed in your home. To request a FREE installation, please complete all fields in the form below and click “Submit.”
        p
          | After submitting your request, you will be contacted by an American Red Cross representative with information on installation availability in your area.
      #center.col-md-6
        .container-fluid(role='form')
          form(action="/", method="POST", class="form-horizontal")
            fieldset
              .row
                // Text input
                .form-group
                  .col-xs-12
                    label.screenreader(for='name') Your Name
                    input#name.form-control.input-md(name='name', type='text', placeholder='Your Name', class='validate[required]', data-prompt-position='topLeft:0,5')
              .row
                  // Text input
                  .form-group
                    .col-xs-12
                      label.screenreader(for='street_address') Street Address & Unit (e.g., 123 Main St., Unit Q)
                      input#street_address.form-control.input-md(name='street_address', type='text', placeholder='Address & Unit', class='validate[required]', data-prompt-position='topLeft:50,5')
              .row
                  // Text input
                  .form-group
                    .col-xs-5
                      label.screenreader(for='city') City
                      input#city.form-control.input-md(name='city', type='text', placeholder='City' class='validate[required]', data-prompt-position='topLeft:0,5')
                    .col-xs-3
                      label.screenreader(for='state') State
                      select#state.form-control(name='state', class='validate[required]', data-prompt-position='topRight:-40,5')
                        option(value='' disabled selected) State
                        option(value='Alabama') AL
                        option(value='Alaska') AK
                        option(value='Arizona') AZ
                        option(value='Arkansas') AR
                        option(value='California') CA
                        option(value='Colorado') CO
                        option(value='Connecticut') CT
                        option(value='Delaware') DE
                        option(value='District of Columbia') DC
                        option(value='Florida') FL
                        option(value='Georgia') GA
                        option(value='Hawaii') HI
                        option(value='Idaho') ID
                        option(value='Illinois') IL
                        option(value='Indiana') IN
                        option(value='Iowa') IA
                        option(value='Kansas') KS
                        option(value='Kentucky') KY
                        option(value='Louisiana') LA
                        option(value='Maine') ME
                        option(value='Maryland') MD
                        option(value='Massachusetts') MA
                        option(value='Michigan') MI
                        option(value='Minnesota') MN
                        option(value='Mississippi') MS
                        option(value='Missouri') MO
                        option(value='Montana') MT
                        option(value='Nebraska') NE
                        option(value='Nevada') NV
                        option(value='New Hampshire') NH
                        option(value='New Jersey') NJ
                        option(value='New Mexico') NM
                        option(value='New York') NY
                        option(value='North Carolina') NC
                        option(value='North Dakota') ND
                        option(value='Ohio') OH
                        option(value='Oklahoma') OK
                        option(value='Oregon') OR
                        option(value='Pennsylvania') PA
                        option(value='Rhode Island') RI
                        option(value='South Carolina') SC
                        option(value='South Dakota') SD
                        option(value='Tennessee') TN
                        option(value='Texas') TX
                        option(value='Utah') UT
                        option(value='Vermont') VT
                        option(value='Virginia') VA
                        option(value='Washington') WA
                        option(value='West Virginia') WV
                        option(value='Wisconsin') WI
                        option(value='Wyoming') WY
                    .col-xs-4
                      label.screenreader(for='zip') Zip Code
                      input#zip.form-control.input-md(name='zip', type='text', placeholder='Zip Code', class='validate[required, custom[zip]]', data-prompt-position='topRight:-40,5')
              .row
                  .form-group
                    .col-xs-5
                      label.screenreader(for='phone') Phone Number
                      input#phone.form-control.input-md(name='phone', type='text', placeholder='Phone #', class='validate[groupRequired[contactPreference], custom[phone-10-digit-US]]', data-prompt-position='topRight:0,5')
                    .col-xs-7
                      label.screenreader(for='email') Email Address
                      input#email.form-control.input-md(name='email', type='text', placeholder='Email', class='validate[groupRequired[contactPreference], custom[email]]', data-prompt-position='topRight:0,5')
              .row
                // http://www.sitepoint.com/understanding-bootstrap-grid-system/ helped
                .form-group
                  .col-xs-12.text-center
                    input(type='hidden', name='_csrf', value='#{csrf}')
                    button#singlebutton.btn.btn-primary(name='singlebutton') Submit
      #right.col-md-3
        p
          | The American Red Cross and its partners have launched the Home Fire Campaign to reduce deaths and injuries caused by home fires by 25 percent over five years.  The Red Cross asks every household in America to take two simple steps to help save lives: check or install smoke alarms and practice fire drills at home.
    #bottom.row
      p#availability.col-xs-12
        | This form can accept requests from the following States and Counties: IA (except Harrison, Mills and Pottawattamie Counties), IL, MN, MO, MT, ND, SD, WI, Dakota County, NE as well as all counties in ID (except Benewah, Bonner, Boundary, Kootenal and Shoshone Counties) and Malheur County, OR and Garfield and Asotin Counties in WA.
        span.notabene  If your location is not listed, please call 800-RED-CROSS to be connected to&nbsp;
        span.notaoptime your
        span.notabene &nbsp;local Red Cross Chapter.


    script(type="text/javascript").
      $("select").addClass('state-not-yet-selected');
      $("select").bind("focus", function () {
        $(this).children('option[value="state-not-yet-selected"]').remove();
        $(this).removeClass('state-not-yet-selected');
      });
      $(".form-horizontal").validationEngine({
        'scroll': false,
        'autoPositionUpdate': true,
        'maxErrorsPerField': 1,
        'custom_error_messages': {
          '#phone': {
            'groupRequired': {
              'message': '* Please provide either a 10-digit phone number or an email address'
            },
            'custom[phone-10-digit-US]': {
              'message': '* The phone number is invalid'
            }
          },
          '#zip': {
            'required': {
              'message': '* A valid US zip code is required'
            },
            'custom[zip]': {
              'message': '* A valid US zip code is required'
            }
          },
          '#email': {
            'groupRequired': {
              'message': '* A Please provide either a phone number or an email address'
            },
            'custom[email]': {
              'message': '* The email address is invalid'
            }
          }
        }
      });
      // Fix Safari font-weight. The bizzare if-clause is feature-detection for Safari.
      if (Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0) { $("body").css("font-weight", "400"); }

