extends layout

block content
  #container.container-fluid
    #main.row
      #left.col-sm-10.col-sm-offset-1
         p.bigger-centered
           | Smoke alarms save lives.  Installing a smoke alarm is the first step to keeping your family safe.
         p
           | Thank you for your interest in having smoke alarms installed in your home.  To request an installation, please complete all fields in the form below and click “Submit.”
         p
           | Please note that installation requests are not available in all areas.  After submitting your request, you will be contacted by an American Red Cross representative with information on installation availability in your area.

      // I added this to center the fields, but I think it's probably incorrect                    
      #center.col-sm-6.col-sm-offset-3
        .container-fluid
          form(action="/", method="POST", class="form-horizontal")
            fieldset
              .row
                // Text input
                .form-group
                  .col-xs-12
                    input#name.form-control.input-md(name='name', type='text', placeholder='Your Name', class='validate[required]', data-prompt-position='topLeft:0,5')
              .row
                  // Text input
                  .form-group
                    .col-xs-12
                      input#street_address.form-control.input-md(name='street_address', type='text', placeholder='Address & Unit', class='validate[required]', data-prompt-position='topLeft:50,5')
              .row
                  // Text input
                  .form-group
                    .col-xs-5
                      input#city.form-control.input-md(name='city', type='text', placeholder='City' class='validate[required]', data-prompt-position='topLeft:0,5')
                    .col-xs-3
                      select#state.form-control(name='state', class='validate[required]', data-prompt-position='topRight:-40,5')
                        option(value='' disabled selected) State
                        option(value='Alabama') Alabama
                        option(value='Alaska') Alaska
                        option(value='Arizona') Arizona
                        option(value='Arkansas') Arkansas
                        option(value='California') California
                        option(value='Colorado') Colorado
                        option(value='Connecticut') Connecticut
                        option(value='Delaware') Delaware
                        option(value='District of Columbia') District of Columbia
                        option(value='Florida') Florida
                        option(value='Georgia') Georgia
                        option(value='Hawaii') Hawaii
                        option(value='Idaho') Idaho
                        option(value='Illinois') Illinois
                        option(value='Indiana') Indiana
                        option(value='Iowa') Iowa
                        option(value='Kansas') Kansas
                        option(value='Kentucky') Kentucky
                        option(value='Louisiana') Louisiana
                        option(value='Maine') Maine
                        option(value='Maryland') Maryland
                        option(value='Massachusetts') Massachusetts
                        option(value='Michigan') Michigan
                        option(value='Minnesota') Minnesota
                        option(value='Mississippi') Mississippi
                        option(value='Missouri') Missouri
                        option(value='Montana') Montana
                        option(value='Nebraska') Nebraska
                        option(value='Nevada') Nevada
                        option(value='New Hampshire') New Hampshire
                        option(value='New Jersey') New Jersey
                        option(value='New Mexico') New Mexico
                        option(value='New York') New York
                        option(value='North Carolina') North Carolina
                        option(value='North Dakota') North Dakota
                        option(value='Ohio') Ohio
                        option(value='Oklahoma') Oklahoma
                        option(value='Oregon') Oregon
                        option(value='Pennsylvania') Pennsylvania
                        option(value='Rhode Island') Rhode Island
                        option(value='South Carolina') South Carolina
                        option(value='South Dakota') South Dakota
                        option(value='Tennessee') Tennessee
                        option(value='Texas') Texas
                        option(value='Utah') Utah
                        option(value='Vermont') Vermont
                        option(value='Virginia') Virginia
                        option(value='Washington') Washington
                        option(value='West Virginia') West Virginia
                        option(value='Wisconsin') Wisconsin
                        option(value='Wyoming') Wyoming
                    .col-xs-4
                      input#zip.form-control.input-md(name='zip', type='text', placeholder='Zip Code', class='validate[required, custom[zip]]', data-prompt-position='topRight:-40,5')
              .row
                  .form-group
                    .col-xs-4
                      input#phone.form-control.input-md(name='phone', type='text', placeholder='Phone #', class='validate[groupRequired[contactPreference], custom[phone-10-digit-US]]', data-prompt-position='topRight:0,5')
                    .col-xs-8
                      input#email.form-control.input-md(name='email', type='text', placeholder='Email', class='validate[groupRequired[contactPreference], custom[email]]', data-prompt-position='topRight:0,5')
              .row
                  // http://www.sitepoint.com/understanding-bootstrap-grid-system/ helped
                  .form-group
                    .col-xs-12.text-center
                      button#singlebutton.btn.btn-primary(name='singlebutton') Submit
      #right.col-sm-10.col-sm-offset-1
         p
           | The American Red Cross and its partners have launched the Home Fire Campaign to reduce deaths and injuries caused by home fires by 25 percent over five years.  The Red Cross asks every household in America to take two simple steps to help save lives: check or install smoke alarms and practice fire drills at home.
         p
           | Currently available in portions of: IA, ID, IL, KS, MN, MO, MT, ND, NE, SD, WI.
          .row
              .col-xs-2
      #logo.text-center
        .col-sm-12
           img.logo(src='./smokeAlarmPortal_files/redcross-logo-white-letters.png', alt='American Red Cross')

    script(type="text/javascript").
      $("select").addClass('state-not-yet-selected');
      $("select").bind("focus", function () {
        $(this).children('option[value="state-not-yet-selected"]').remove();
        $(this).removeClass('state-not-yet-selected');
      });
      $(".form-horizontal").validationEngine({
        'scroll': false,
        'autoPositionUpdate': true,
        'maxErrorsPerField': 1,
        'custom_error_messages': {
          '#phone': {
            'groupRequired': {
              'message': '* Please provide either a 10-digit phone number or an email address'
            },
            'custom[phone-10-digit-US]': {
              'message': '* The phone number is invalid'
            }
          },
          '#zip': {
            'required': {
              'message': '* A valid US zip code is required'
            },
            'custom[zip]': {
              'message': '* A valid US zip code is required'
            }
          },
          '#email': {
            'groupRequired': {
              'message': '* Please provide either a 10-digit phone number or an email address'
            },
            'custom[email]': {
              'message': '* The email address is invalid'
            }
          }
        }
      });
